@using GreenSol.UI.Models

@model RoleEditModel

@{ ViewBag.Title = "Edit Role";
   Layout = "~/Views/Shared/_AdminLayout.cshtml";}

<div class="panel panel-primary" style="padding:20px;">
    @Html.ValidationSummary()
    @using (Html.BeginForm())
    {
        <input type="hidden" name="roleName" value="@Model.Role.Name" />
        <div class="panel panel-primary" style="padding:20px;">
            <div>
                <h3>Add To @Model.Role.Name</h3>
            </div>
            <div class="panel-body">
                <table class="table table-striped table-condensed table-bordered">
                    @if (Model.NonMembers.Count() == 0)
                    {
                        <tr><td colspan="2">All Users Are Members</td></tr>
                    }
                    else
                    {
                        <tr><td>User ID</td><td>Add To Role</td></tr>
                        foreach (AppUser user in Model.NonMembers)
                        {
                            <tr>
                                <td>@user.UserName</td>
                                <td>
                                    <input type="checkbox" name="IdsToAdd" value="@user.Id">
                                </td>
                            </tr>
                        }
                    }
                </table>
            </div>
        </div>

        <div class="panel panel-primary" style="padding:20px;">
            <div>
                <h3>Remove from @Model.Role.Name</h3>
            </div>
            <div class="panel-body">
                <table class="table table-striped table-condensed table-bordered">
                    @if (Model.Members.Count() == 0)
                    {
                        <tr><td colspan="2">No Users Are Members</td></tr>
                    }
                    else
                    {
                        <tr><td>User ID</td><td>Remove From Role</td></tr>
                        foreach (AppUser user in Model.Members)
                        {
                            <tr>
                                <td>@user.UserName</td>
                                <td>
                                    <input type="checkbox" name="IdsToDelete" value="@user.Id">
                                </td>
                            </tr>
                        }
                    }
                </table>
            </div>      
        </div>      
    }
    <div class="footer" style="padding-left: 20px;">
        <button type="submit" class="myButton2 green2" style="width:75px">Save</button>
        @Html.ActionLink("Cancel", "Index", null, new { @class = "myButton2 blue2" })
    </div>
</div>